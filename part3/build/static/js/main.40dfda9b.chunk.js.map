{"version":3,"sources":["services/numbers.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","handleDeleteClickedCallback","name","number","onClick","Persons","persons","map","p","PersonForm","newNameValue","newNumberValue","addPersonCallback","handleNameChangeCallback","handleNumberChangeCallback","onSubmit","value","onChange","type","Filter","searchValue","handleSearchChangeCallback","Notification","message","className","App","useState","setPersons","showPersons","setShowPersons","newName","setNewName","newNumber","setNewNumber","searchName","setSearchName","notificationMessage","setNotificationMessage","notificationClass","setNotificationClass","useEffect","numberService","initialNumbers","catch","error","alert","updatePerson","find","window","confirm","changedPerson","returnedPerson","filter","x","toLowerCase","includes","content","n","event","target","preventDefault","some","newPersonObject","newPerson","concat","setTimeout","personToDelete","deletedPerson","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40dfda9b.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }\r\n","import React from 'react';\r\n\r\nconst Person = ({ person, handleDeleteClickedCallback }) => (\r\n  <li>\r\n    { person.name } { person.number }\r\n    <button onClick={ () => handleDeleteClickedCallback(person.id) }>delete</button>\r\n  </li>\r\n)\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({ persons, handleDeleteClickedCallback }) => {\r\n\r\n  return (\r\n    <ul>\r\n      { persons.map(p =>\r\n          <Person\r\n            key={ p.name }\r\n            person={ p }\r\n            handleDeleteClickedCallback={ handleDeleteClickedCallback }\r\n          />\r\n        )\r\n      }\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({ newNameValue, newNumberValue, addPersonCallback, handleNameChangeCallback, handleNumberChangeCallback }) => {\r\n\r\n  return (\r\n    <form onSubmit={ addPersonCallback }>\r\n      <div>\r\n        <div>name: <input value={ newNameValue } onChange={ handleNameChangeCallback }/></div>\r\n        <div>number: <input value={ newNumberValue } onChange={ handleNumberChangeCallback }/></div>\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ searchValue, handleSearchChangeCallback }) => {\r\n\r\n  return (\r\n    <div>filter shown with <input value={ searchValue } onChange={ handleSearchChangeCallback }/></div>\r\n  )\r\n}\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message, className }) => {\r\n  if(message === null) return null;\r\n\r\n  return (\r\n    <div className={ className }>\r\n      { message }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport numberService from './services/numbers';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ showPersons, setShowPersons ] = useState(persons);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ searchName, setSearchName ] = useState('');\n  const [ notificationMessage, setNotificationMessage ] = useState(null);\n  const [ notificationClass, setNotificationClass ] = useState('error');\n\n  useEffect(() => {\n    numberService.getAll()\n    .then(initialNumbers => {\n      setPersons(initialNumbers);\n      setShowPersons(initialNumbers);\n    })\n    .catch(error => alert('could not fetch all numbers'));\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    if(persons.some(x => x.name === newName))\n    {\n      updatePerson();\n      return;\n    }else if(newName === '' || newNumber === '')\n    {\n      window.alert('Please enter both a name and number');\n      return;\n    }\n\n    const newPersonObject = {\n      name: newName,\n      number: newNumber\n    };\n\n    numberService.create(newPersonObject)\n    .then(newPerson => {\n      setPersons(persons.concat(newPerson));\n      setShowPersons(persons.concat(newPerson).filter(x => x.name.toLowerCase().includes(searchName.toLowerCase())));\n      setNewName('');\n      setNewNumber('');\n      setNotificationMessage(`Added ${newPerson.name}`);\n      setNotificationClass('success');\n      setTimeout(() => {\n        setNotificationMessage(null);\n      }, 5000);\n    })\n    .catch(error => alert(`could not create ${newPersonObject.name}`));\n  }\n\n  const deletePerson = (id) => {\n    const personToDelete = persons.find(x => x.id === id);\n    if(window.confirm(`Delete ${personToDelete.name}?`))\n    {\n      numberService.deletePerson(id)\n      .then(deletedPerson => {\n        const newPersons = persons.filter(x => x.id !== id);\n        setPersons(newPersons);\n        setShowPersons(newPersons.filter(x => x.name.toLowerCase().includes(searchName.toLowerCase())));\n      })\n      .catch(error => {\n        setNotificationMessage(`Information of ${personToDelete.name} has already been deleted`);\n        setNotificationClass('error');\n        setTimeout(() => {\n          setNotificationMessage(null);\n        }, 5000);\n      });\n    }\n  }\n\n  const updatePerson = () => {\n    const person = persons.find(p => p.name === newName);\n    if(window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`))\n    {\n      const changedPerson = { ...person, number: newNumber };\n\n      numberService.update(person.id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson));\n        setShowPersons(persons.map(p => p.id !== person.id ? p : returnedPerson).filter(x => x.name.toLowerCase().includes(searchName.toLowerCase())));\n      })\n      .catch(error => {\n        alert(`an error occurred with updating '${person.content}'`);\n        setPersons(persons.filter(n => n.id !== person.id));\n        setShowPersons(persons.filter(n => n.id !== person.id));\n      });\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchName(event.target.value);\n\n    setShowPersons(persons.filter(x => x.name.toLowerCase().includes(event.target.value.toLowerCase())));\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={ notificationMessage }\n        className={ notificationClass }\n      />\n      <Filter\n        searchValue={ searchName }\n        handleSearchChangeCallback={ handleSearchChange }\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        newNameValue={ newName }\n        newNumberValue={ newNumber }\n        addPersonCallback={ addPerson }\n        handleNameChangeCallback={ handleNameChange }\n        handleNumberChangeCallback={ handleNumberChange }\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={ showPersons }\n        handleDeleteClickedCallback={ deletePerson }\n      />\n    </div>\n  )\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}